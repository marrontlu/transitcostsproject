<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Line Map
  </title>
  <meta content="initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"/>
  <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js">
  </script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css" rel="stylesheet"/>
  <style>
   body { margin: 0; padding: 0; }#map {position: absolute;top: 0;bottom: 0;width: 100%;}.mapboxgl-popup {max-width: 400px;margin: 0px;padding: 0px;font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;}.mapboxgl-popup-content {padding :5px; margin:0px;}#pop-text {margin-top: 0px;margin-bottom: 0px;padding: 0px;font: 10px 'Helvetica Neue', Arial, Helvetica, sans-serif; line-height: 15px;}.map-overlay {position: absolute;bottom: 0;right: 0;background: rgba(255, 255, 255, 0.8);margin-right: 20px;font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;overflow: auto;border-radius: 3px;}#features {top: 0;height: 100px;margin-top: 20px;width: 250px;}#legend {padding: 10px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);line-height: 18px;margin-bottom: 40px;width: 100px;}.legend-key {display: inline-block;width: 10px;height:2.5px;margin-right: 5px;margin-bottom: 2.3px}.legend-circle {display: inline-block;border-radius: 50%;width: 6px;height:6px;margin-right: 8px;margin-left: 2px;}
  </style>
 </head>
 <body>
  <div id="map">
  </div>
  <div class="map-overlay" id="legend">
  </div>
  <script>
   mapboxgl.accessToken = 'pk.eyJ1IjoiZWxpZmVuc2FyaSIsImEiOiJjam15ejN3d3EyMXRyM3FvODE3djQxcDluIn0.jn7SMI1MV_qcFxhcXT_-Eg';var map = new mapboxgl.Map({container: 'map',style: 'mapbox://styles/elifensari/ckd8qtjv100ac1iqsmp5zvve5',center: [121.45841802062975, 31.196387743093464],zoom: 11,maxZoom: 13,minZoom: 8});map.on('load', function() {map.addSource('subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-1-shanghai-railway-station-to-jinjiang-park-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'line','source': 'subway_line_shanghai-line-1-shanghai-railway-station-to-jinjiang-park',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-1-shanghai-railway-station-to-jinjiang-park' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-1-shanghai-railway-station-to-jinjiang-park-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'circle','source': 'stations_source_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','type': 'circle','source': 'stations_source_shanghai-line-1-shanghai-railway-station-to-jinjiang-park','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-2-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-2-phase-1','type': 'line','source': 'subway_line_shanghai-line-2-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-2-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-2-phase-1','type': 'circle','source': 'stations_source_shanghai-line-2-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-2-phase-1','type': 'circle','source': 'stations_source_shanghai-line-2-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-2-eastern-extension-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-eastern-extension-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-2-eastern-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-2-eastern-extension-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-eastern-extension-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-2-eastern-extension-1','type': 'circle','source': 'stations_source_shanghai-line-2-eastern-extension-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-2-eastern-extension-1','type': 'circle','source': 'stations_source_shanghai-line-2-eastern-extension-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-2-western-extension-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-western-extension-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-2-western-extension-1','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-2-western-extension-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-western-extension-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-2-western-extension-1','type': 'circle','source': 'stations_source_shanghai-line-2-western-extension-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-2-western-extension-1','type': 'circle','source': 'stations_source_shanghai-line-2-western-extension-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-2-eastern-extension-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-eastern-extension-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-2-eastern-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-eastern-extension-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-2-eastern-extension-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-eastern-extension-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-2-eastern-extension-2','type': 'circle','source': 'stations_source_shanghai-line-2-eastern-extension-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-2-eastern-extension-2','type': 'circle','source': 'stations_source_shanghai-line-2-eastern-extension-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-2-western-extension-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-western-extension-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-2-western-extension-2','type': 'line','source': 'subway_line_shanghai-line-2-western-extension-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-2-western-extension-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-2-western-extension-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-2-western-extension-2','type': 'circle','source': 'stations_source_shanghai-line-2-western-extension-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-2-western-extension-2','type': 'circle','source': 'stations_source_shanghai-line-2-western-extension-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-3' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-3-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-3','type': 'line','source': 'subway_line_shanghai-line-3',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-3' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-3-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-3','type': 'circle','source': 'stations_source_shanghai-line-3','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-3','type': 'circle','source': 'stations_source_shanghai-line-3','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-3-northern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-3-northern-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-3-northern-extension','type': 'line','source': 'subway_line_shanghai-line-3-northern-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-3-northern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-3-northern-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-3-northern-extension','type': 'circle','source': 'stations_source_shanghai-line-3-northern-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-3-northern-extension','type': 'circle','source': 'stations_source_shanghai-line-3-northern-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-4-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-4-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-4-phase-1','type': 'line','source': 'subway_line_shanghai-line-4-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-4-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-4-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-4-phase-1','type': 'circle','source': 'stations_source_shanghai-line-4-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-4-phase-1','type': 'circle','source': 'stations_source_shanghai-line-4-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-5-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-5-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-5-phase-1','type': 'line','source': 'subway_line_shanghai-line-5-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-5-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-5-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-5-phase-1','type': 'circle','source': 'stations_source_shanghai-line-5-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-5-phase-1','type': 'circle','source': 'stations_source_shanghai-line-5-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-5-southern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-5-southern-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-5-southern-extension','type': 'line','source': 'subway_line_shanghai-line-5-southern-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-5-southern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-5-southern-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-5-southern-extension','type': 'circle','source': 'stations_source_shanghai-line-5-southern-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-5-southern-extension','type': 'circle','source': 'stations_source_shanghai-line-5-southern-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-7-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-7-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-7-phase-1','type': 'line','source': 'subway_line_shanghai-line-7-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-7-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-7-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-7-phase-1','type': 'circle','source': 'stations_source_shanghai-line-7-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-7-phase-1','type': 'circle','source': 'stations_source_shanghai-line-7-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-7-northern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-7-northern-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-7-northern-extension','type': 'line','source': 'subway_line_shanghai-line-7-northern-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-7-northern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-7-northern-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-7-northern-extension','type': 'circle','source': 'stations_source_shanghai-line-7-northern-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-7-northern-extension','type': 'circle','source': 'stations_source_shanghai-line-7-northern-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-8-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-8-phase-2','type': 'line','source': 'subway_line_shanghai-line-8-phase-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-8-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-8-phase-2','type': 'circle','source': 'stations_source_shanghai-line-8-phase-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-8-phase-2','type': 'circle','source': 'stations_source_shanghai-line-8-phase-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-9-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-9-phase-1','type': 'line','source': 'subway_line_shanghai-line-9-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-9-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-9-phase-1','type': 'circle','source': 'stations_source_shanghai-line-9-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-9-phase-1','type': 'circle','source': 'stations_source_shanghai-line-9-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-9-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-9-phase-2','type': 'line','source': 'subway_line_shanghai-line-9-phase-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-9-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-9-phase-2','type': 'circle','source': 'stations_source_shanghai-line-9-phase-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-9-phase-2','type': 'circle','source': 'stations_source_shanghai-line-9-phase-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-9-phase-3' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-3-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-9-phase-3','type': 'line','source': 'subway_line_shanghai-line-9-phase-3',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-9-phase-3' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-3-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-9-phase-3','type': 'circle','source': 'stations_source_shanghai-line-9-phase-3','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-9-phase-3','type': 'circle','source': 'stations_source_shanghai-line-9-phase-3','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-9-phase-3-eastern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-3-eastern-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-9-phase-3-eastern-extension','type': 'line','source': 'subway_line_shanghai-line-9-phase-3-eastern-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-9-phase-3-eastern-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-9-phase-3-eastern-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-9-phase-3-eastern-extension','type': 'circle','source': 'stations_source_shanghai-line-9-phase-3-eastern-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-9-phase-3-eastern-extension','type': 'circle','source': 'stations_source_shanghai-line-9-phase-3-eastern-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-10-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-10-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-10-phase-1','type': 'line','source': 'subway_line_shanghai-line-10-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-10-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-10-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-10-phase-1','type': 'circle','source': 'stations_source_shanghai-line-10-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-10-phase-1','type': 'circle','source': 'stations_source_shanghai-line-10-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-11-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-11-phase-1','type': 'line','source': 'subway_line_shanghai-line-11-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-11-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-11-phase-1','type': 'circle','source': 'stations_source_shanghai-line-11-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-11-phase-1','type': 'circle','source': 'stations_source_shanghai-line-11-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-11-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-phase-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-11-phase-2','type': 'line','source': 'subway_line_shanghai-line-11-phase-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-11-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-phase-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-11-phase-2','type': 'circle','source': 'stations_source_shanghai-line-11-phase-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-11-phase-2','type': 'circle','source': 'stations_source_shanghai-line-11-phase-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-11-huaqiao' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-huaqiao-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-11-huaqiao','type': 'line','source': 'subway_line_shanghai-line-11-huaqiao',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-11-huaqiao' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-huaqiao-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-11-huaqiao','type': 'circle','source': 'stations_source_shanghai-line-11-huaqiao','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-11-huaqiao','type': 'circle','source': 'stations_source_shanghai-line-11-huaqiao','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-1-western-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-1-western-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-1-western-extension','type': 'line','source': 'subway_line_shanghai-line-1-western-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-1-western-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-1-western-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-1-western-extension','type': 'circle','source': 'stations_source_shanghai-line-1-western-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-1-western-extension','type': 'circle','source': 'stations_source_shanghai-line-1-western-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-20-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-20-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-20-phase-1','type': 'line','source': 'subway_line_shanghai-line-20-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-20-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-20-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-20-phase-1','type': 'circle','source': 'stations_source_shanghai-line-20-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-20-phase-1','type': 'circle','source': 'stations_source_shanghai-line-20-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-19' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-19-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-19','type': 'line','source': 'subway_line_shanghai-line-19',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-19' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-19-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-19','type': 'circle','source': 'stations_source_shanghai-line-19','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-19','type': 'circle','source': 'stations_source_shanghai-line-19','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-21-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-21-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-21-phase-1','type': 'line','source': 'subway_line_shanghai-line-21-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-21-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-21-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-21-phase-1','type': 'circle','source': 'stations_source_shanghai-line-21-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-21-phase-1','type': 'circle','source': 'stations_source_shanghai-line-21-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-13-western-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-13-western-extension-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-13-western-extension','type': 'line','source': 'subway_line_shanghai-line-13-western-extension',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-13-western-extension' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-13-western-extension-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-13-western-extension','type': 'circle','source': 'stations_source_shanghai-line-13-western-extension','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-13-western-extension','type': 'circle','source': 'stations_source_shanghai-line-13-western-extension','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-23-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-23-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-23-phase-1','type': 'line','source': 'subway_line_shanghai-line-23-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-23-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-23-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-23-phase-1','type': 'circle','source': 'stations_source_shanghai-line-23-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-23-phase-1','type': 'circle','source': 'stations_source_shanghai-line-23-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-jiamin' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-jiamin-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-jiamin','type': 'line','source': 'subway_line_shanghai-jiamin',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-jiamin' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-jiamin-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-jiamin','type': 'circle','source': 'stations_source_shanghai-jiamin','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-jiamin','type': 'circle','source': 'stations_source_shanghai-jiamin','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-8-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-1-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-8-phase-1','type': 'line','source': 'subway_line_shanghai-line-8-phase-1',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-8-phase-1' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-1-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-8-phase-1','type': 'circle','source': 'stations_source_shanghai-line-8-phase-1','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-8-phase-1','type': 'circle','source': 'stations_source_shanghai-line-8-phase-1','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-airport-contact-line' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-airport-contact-line-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-airport-contact-line','type': 'line','source': 'subway_line_shanghai-airport-contact-line',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-airport-contact-line' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-airport-contact-line-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-airport-contact-line','type': 'circle','source': 'stations_source_shanghai-airport-contact-line','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-airport-contact-line','type': 'circle','source': 'stations_source_shanghai-airport-contact-line','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-10-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-10-phase-2-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-10-phase-2','type': 'line','source': 'subway_line_shanghai-line-10-phase-2',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-10-phase-2' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-10-phase-2-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-10-phase-2','type': 'circle','source': 'stations_source_shanghai-line-10-phase-2','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-10-phase-2','type': 'circle','source': 'stations_source_shanghai-line-10-phase-2','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-chongming' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-chongming-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-chongming','type': 'line','source': 'subway_line_shanghai-chongming',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-chongming' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-chongming-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-chongming','type': 'circle','source': 'stations_source_shanghai-chongming','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-chongming','type': 'circle','source': 'stations_source_shanghai-chongming','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-11-to-disney' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-to-disney-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-11-to-disney','type': 'line','source': 'subway_line_shanghai-line-11-to-disney',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-11-to-disney' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-11-to-disney-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-11-to-disney','type': 'circle','source': 'stations_source_shanghai-line-11-to-disney','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-11-to-disney','type': 'circle','source': 'stations_source_shanghai-line-11-to-disney','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-6' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-6-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-6','type': 'line','source': 'subway_line_shanghai-line-6',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-6' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-6-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-6','type': 'circle','source': 'stations_source_shanghai-line-6','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-6','type': 'circle','source': 'stations_source_shanghai-line-6','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-8-phase-3-pujiang-line' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-3-pujiang-line-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-8-phase-3-pujiang-line','type': 'line','source': 'subway_line_shanghai-line-8-phase-3-pujiang-line',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-8-phase-3-pujiang-line' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-8-phase-3-pujiang-line-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-8-phase-3-pujiang-line','type': 'circle','source': 'stations_source_shanghai-line-8-phase-3-pujiang-line','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-8-phase-3-pujiang-line','type': 'circle','source': 'stations_source_shanghai-line-8-phase-3-pujiang-line','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-15' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-15-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-15','type': 'line','source': 'subway_line_shanghai-line-15',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-15' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-15-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-15','type': 'circle','source': 'stations_source_shanghai-line-15','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-15','type': 'circle','source': 'stations_source_shanghai-line-15','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-14' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-14-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-14','type': 'line','source': 'subway_line_shanghai-line-14',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-14' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-14-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-14','type': 'circle','source': 'stations_source_shanghai-line-14','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-14','type': 'circle','source': 'stations_source_shanghai-line-14','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});map.addSource('subway_line_shanghai-line-16' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-16-line.geojson","generateId": true});map.addLayer({'id': 'at_grade_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16','layout': {},'paint': {'line-width': 1,'line-color':'#EF476F',}});map.addLayer({'id': 'tunnel_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "tunnel", 'yes'],'layout': {},'paint': {'line-width': 1,'line-color':'#6F1F42',}});map.addLayer({'id': 'bridge_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "bridge", 'yes'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'aqueduct_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "bridge", 'aqueduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'viaduct_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "bridge", 'viaduct'],'layout': {},'paint': {'line-width': 2,'line-color':'#77B5CF',}});map.addLayer({'id': 'yard_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "service", 'yard'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addLayer({'id': 'siding_shanghai-line-16','type': 'line','source': 'subway_line_shanghai-line-16',"filter": ["==", "service", 'siding'],'layout': {},'paint': {'line-width': 2,'line-color':'#1D3F5D',}});map.addSource('stations_source_shanghai-line-16' , {"type":"geojson","data":"https://raw.githubusercontent.com/marrontlu/transitcostsproject/main/data/r-z/shanghai-line-16-stops.geojson","generateId": true});map.addLayer({'id': 'stations_shanghai-line-16','type': 'circle','source': 'stations_source_shanghai-line-16','layout': {},'paint': {'circle-radius': 3,'circle-color': '#EF476F',}});map.addLayer({'id': 'hover_shanghai-line-16','type': 'circle','source': 'stations_source_shanghai-line-16','layout': {},'paint': {'circle-radius': 6,'circle-opacity':0,}});var layers = ['station','at-grade', 'tunnel', 'elevated','yard','siding'];var colors = ['#EF476F','#EF476F', '#6F1F42', '#77B5CF','#1D3F5D','#1D3F5D'];var layer = layers[0];var color = colors[0];var item = document.createElement('div');var key = document.createElement('span');key.className = 'legend-circle';key.style.backgroundColor = color;var value = document.createElement('span');value.innerHTML = layer;item.appendChild(key);item.appendChild(value);legend.appendChild(item);for (i = 1; i < layers.length; i++) {var layer = layers[i];var color = colors[i];var item = document.createElement('div');var key = document.createElement('span');key.className = 'legend-key';key.style.backgroundColor = color;var value = document.createElement('span');value.innerHTML = layer;item.appendChild(key);item.appendChild(value);legend.appendChild(item);}var popup = new mapboxgl.Popup({closeButton: false,closeOnClick: false});map.on('mouseenter', 'hover_shanghai-line-1-shanghai-railway-station-to-jinjiang-park', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 1 (Shanghai Railway Station to Jinjiang Park)" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-1-shanghai-railway-station-to-jinjiang-park', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-2-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 2 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-2-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-2-eastern-extension-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 2 Eastern Extension 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-2-eastern-extension-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-2-western-extension-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 2 Western Extension 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-2-western-extension-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-2-eastern-extension-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 2 Eastern Extension 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-2-eastern-extension-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-2-western-extension-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 2 Western Extension 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-2-western-extension-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-3', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 3" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-3', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-3-northern-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 3 Northern Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-3-northern-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-4-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 4 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-4-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-5-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 5 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-5-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-5-southern-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 5 Southern Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-5-southern-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-7-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 7 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-7-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-7-northern-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 7 Northern Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-7-northern-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-8-phase-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 8 Phase 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-8-phase-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-9-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 9 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-9-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-9-phase-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 9 Phase 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-9-phase-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-9-phase-3', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 9 Phase 3" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-9-phase-3', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-9-phase-3-eastern-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 9 Phase 3 Eastern Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-9-phase-3-eastern-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-10-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 10 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-10-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-11-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 11 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-11-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-11-phase-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 11 Phase 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-11-phase-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-11-huaqiao', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 11 Huaqiao" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-11-huaqiao', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-1-western-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 1 Western Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-1-western-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-20-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 20 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-20-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-19', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 19" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-19', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-21-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 21 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-21-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-13-western-extension', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 13 Western Extension" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-13-western-extension', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-23-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 23 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-23-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-jiamin', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Jiamin" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-jiamin', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-8-phase-1', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 8 Phase 1" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-8-phase-1', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-airport-contact-line', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Airport Contact Line" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-airport-contact-line', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-10-phase-2', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 10 Phase 2" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-10-phase-2', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-chongming', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Chongming" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-chongming', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-11-to-disney', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 11 (to Disney)" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-11-to-disney', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-6', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 6" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-6', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-8-phase-3-pujiang-line', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 8 Phase 3 (Pujiang Line)" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-8-phase-3-pujiang-line', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-15', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 15" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-15', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-14', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 14" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-14', function() {map.getCanvas().style.cursor = '';popup.remove();});map.on('mouseenter', 'hover_shanghai-line-16', function(e) {map.getCanvas().style.cursor = 'pointer';var coordinates = e.features[0].geometry.coordinates.slice();var description = e.features[0].properties.name;while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;}popup.setLngLat(coordinates).setHTML("<p id='pop-text'><b>" +"Line 16" + "</b><br>" + description +"</p>" ).addTo(map);});map.on('mouseleave', 'hover_shanghai-line-16', function() {map.getCanvas().style.cursor = '';popup.remove();});});
  </script>
 </body>
</html>